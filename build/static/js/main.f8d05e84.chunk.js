(this["webpackJsonpevents-app"]=this["webpackJsonpevents-app"]||[]).push([[0],{20:function(e,a,t){e.exports=t(44)},25:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(19),c=t.n(i),r=(t(25),t(2)),s=t(1),m=t(9),o=t.n(m),u=t(4),d=function(e){var a=e.setFilter,t=function(){a("")};return l.a.createElement("div",{className:"nav"},l.a.createElement("h1",null,"L\xf6yd\xe4 tekemist\xe4 Helsingiss\xe4!"),l.a.createElement("div",{className:"nav-links"},l.a.createElement(u.c,{onClick:t,to:"/events",className:function(e){return e.isActive?"nav-link active":"nav-link inactive"}},l.a.createElement("span",null,"Tapahtumat")),l.a.createElement(u.c,{onClick:t,to:"/places",className:function(e){return e.isActive?"nav-link active":"nav-link inactive"}},l.a.createElement("span",null,"Paikat")),l.a.createElement(u.c,{onClick:t,to:"/activities",className:function(e){return e.isActive?"nav-link active":"nav-link inactive"}},l.a.createElement("span",null,"Aktiviteetit"))))},f=function(e){var a=e.setFilter,t=Object(n.useState)(!1),i=Object(r.a)(t,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){"undefined"!==typeof window&&window.addEventListener("scroll",(function(){return s(window.pageYOffset>100)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:c?"header small-header":"header"}),l.a.createElement(d,{setFilter:a,setSmall:s,small:c}))},p=function(){return l.a.createElement("div",null)},E=function(e){var a=e.event,t=function(e){return new Date(e).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"})};return l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-calendar-alt"})," ".concat(t(a.event_dates.starting_day)),t(a.event_dates.ending_day)===t(a.event_dates.starting_day)||null===a.event_dates.ending_day?"":" - ".concat(t(a.event_dates.ending_day)))))},v=function(e){var a=e.event;return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"empty"},(null===a||void 0===a?void 0:a.description.images)&&a.description.images.slice(0,1).map((function(e){return l.a.createElement("img",{src:e.url,key:e.media_id,alt:e.copyright_holder,className:"small-img"})}))),l.a.createElement("div",{className:"card-details"},l.a.createElement("h2",null,l.a.createElement("i",{className:"fas fa-thumbtack"})," ",a.name.fi),l.a.createElement(E,{event:a}),l.a.createElement("p",null,a.description.intro),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",a.location.address.street_address," ",a.location.address.postal_code," ",a.location.address.locality)))},g=function(e){var a=e.setFilter,t=e.tags,i=e.message,c=e.loading,s=Object(n.useState)(""),m=Object(r.a)(s,2),o=m[0],u=m[1];return l.a.createElement("div",{className:"filter"},l.a.createElement("div",{className:"search"},l.a.createElement("form",null,l.a.createElement("input",{type:"text",placeholder:"hae",onChange:function(e){return u(e.target.value)},value:o,onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="hae"}}),l.a.createElement("button",{onClick:function(e){e.preventDefault(),a(o),u("")},className:"search-button"},l.a.createElement("i",{className:"fas fa-search"})))),l.a.createElement("span",{className:"message"},c?"Haetaan tietoja...":i," ",l.a.createElement("i",{className:c?"fas fa-hourglass-half rotate":"off"})),l.a.createElement("div",{className:"tags center"},t.map((function(e){return l.a.createElement("span",{onClick:function(){a(e)},className:"tag",key:e},e)}))),l.a.createElement("span",{className:"clear-tag",onClick:function(){return a(null)}},"tyhjenn\xe4 haku"))},h=function(e){var a=e.events,t=e.convertId,n=e.setFilter,i=e.message,c=e.loading;return l.a.createElement("div",null,l.a.createElement(g,{setFilter:n,tags:["n\xe4yttely","konsertti","kirjallisuus","musiikki","urheilu","liikunta","teatteri"],message:i,loading:c}),a.map((function(e,a){return l.a.createElement(u.b,{to:"/events/".concat(t(e.id)),key:a},l.a.createElement(v,{event:e}))})))},k=function(e){var a,t,n=e.place;return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"empty"},(null===(a=n.description)||void 0===a?void 0:a.images)&&n.description.images.slice(0,1).map((function(e){return l.a.createElement("div",{key:e.media_id},l.a.createElement("img",{src:e.url,alt:e.copyright_holder,className:"small-img"}))}))),l.a.createElement("div",{className:"card-details"},l.a.createElement("h2",null,l.a.createElement("i",{className:"fas fa-thumbtack"})," ",n.name.fi),l.a.createElement("p",null,null===(t=n.description)||void 0===t?void 0:t.intro),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",n.location.address.street_address," ",n.location.address.postal_code," ",n.location.address.locality)))},y=function(e){var a=e.places,t=e.setFilter,n=e.message,i=e.loading;return l.a.createElement("div",null,l.a.createElement(g,{setFilter:t,tags:["baari","galleria","kahvila","klubi","museo","ravintola","teatteri"],message:n,loading:i}),a.map((function(e){return l.a.createElement(u.b,{to:"/places/".concat(e.id),key:e.id},l.a.createElement(k,{place:e}))})))},N=function(e){var a=e.activity;return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"empty"},a.media&&a.media.slice(0,1).map((function(e){return l.a.createElement("img",{src:e.largeUrl,key:e.largeUrl,alt:e.alt,className:"small-img"})}))),l.a.createElement("div",{className:"card-details"},l.a.createElement("h2",null,l.a.createElement("i",{className:"fas fa-thumbtack"})," ",a.descriptions.fi?a.descriptions.fi.name:a.descriptions.en.name)))},b=function(e){var a=e.activities,t=e.setFilter,n=e.message,i=e.loading;return l.a.createElement("div",null,l.a.createElement(g,{setFilter:t,tags:["historia","luonto","kansallispuisto","k\xe4vely","patikointi","risteily","saaristo"],message:n,loading:i}),a.map((function(e,a){return l.a.createElement(u.b,{to:"/activities/".concat(e.id),key:a},l.a.createElement(N,{activity:e}))})))},_=function(){var e=Object(s.f)();return l.a.createElement("div",{className:"navigate-links"},l.a.createElement("button",{className:"navigate",onClick:function(){return e(-1)}},"\u2190 Takaisin"))},j=function(e){var a,t=e.event;return l.a.createElement("div",{className:"page"},l.a.createElement(_,null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fas fa-thumbtack"})," ",t.name.fi),l.a.createElement(E,{event:t}),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",t.location.address.street_address," ",t.location.address.postal_code," ",t.location.address.locality),l.a.createElement("div",{className:"images"},t.description.images&&t.description.images.map((function(e){return l.a.createElement("div",{key:e.media_id},l.a.createElement("img",{src:e.url,alt:t.name.fi,className:"large-img"}),l.a.createElement("figcaption",null,e.copyright_holder))}))),l.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.description.body}}),l.a.createElement("span",{className:"updated"},"P\xe4ivitetty: ",(a=t.modified_at,new Date(a).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"}))),t.info_url&&l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-link"})," ",l.a.createElement("a",{href:t.info_url,target:"blank"},t.name.fi)),l.a.createElement(_,null))},w=function(e){var a=e.place,t=function(e){var a=e.split(":");return a[0]+":"+a[1]};return l.a.createElement("div",{className:"opening-hours"},l.a.createElement("h3",null,l.a.createElement("i",{className:"far fa-calendar-alt"})," Aukioloajat"),a.opening_hours&&a.opening_hours.hours.map((function(e){return l.a.createElement("p",{className:"hours",key:e.weekday_id},1===(a=e.weekday_id)?"Maanantai":2===a?"Tiistai":3===a?"Keskiviikko":4===a?"Torstai":5===a?"Perjantai":6===a?"Lauantai":7===a?"Sunnuntai":void 0,": ",e.opens&&t(e.opens)," - ",e.opens&&t(e.closes));var a})))},F=function(e){var a,t=e.place;return l.a.createElement("div",{className:"page"},l.a.createElement(_,null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fas fa-thumbtack"})," ",t.name.fi),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",t.location.address.street_address," ",t.location.address.postal_code," ",t.location.address.locality),l.a.createElement("div",{className:"images"},t.description.images&&t.description.images.map((function(e){return l.a.createElement("div",{key:e.media_id},l.a.createElement("img",{src:e.url,alt:t.name.fi,className:"large-img"}),l.a.createElement("figcaption",null,e.copyright_holder))}))),l.a.createElement("p",{className:"description"},t.description.body),l.a.createElement("span",{className:"updated"},"P\xe4ivitetty: ",(a=t.modified_at,new Date(a).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"}))),l.a.createElement(w,{place:t}),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-link"})," ",l.a.createElement("a",{href:t.info_url,target:"blank"},t.name.fi)),l.a.createElement(_,null))},O=function(e){var a,t,n,i,c=e.activity;return l.a.createElement("div",{className:"page"},l.a.createElement(_,null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fas fa-thumbtack"})," ",c.descriptions.fi?c.descriptions.fi.name:c.descriptions.en.name),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",c.address.streetName," ",c.address.postalCode," ",c.address.city),l.a.createElement("div",{className:"images"},c.media.map((function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("img",{src:e.largeUrl,alt:e.alt,key:e.largeUrl,className:"large-img"}),l.a.createElement("figcaption",null,e.copyright))}))),l.a.createElement("p",null,null===(a=c.priceEUR)||void 0===a?void 0:a.from," ",0===!(null===(t=c.priceEUR)||void 0===t?void 0:t.to)&&" - ".concat(null===(n=c.priceEUR)||void 0===n?void 0:n.to)," ",c.priceEUR&&"EUR /"," ",c.duration&&"".concat(c.duration," ").concat(c.durationType)),c.meantFor.map((function(e){return l.a.createElement("span",{className:"meant-for",key:e},e)})),l.a.createElement("p",null,c.descriptions.fi?c.descriptions.fi.description:c.descriptions.en.description),l.a.createElement("span",{className:"updated"},"P\xe4ivitetty: ",(i=c.updated,new Date(i).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"}))),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-link"})," ",l.a.createElement("a",{href:c.siteUrl,target:"blank"},c.company.name)),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-envelope"})," ",c.company.email),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-phone-volume"})," ",c.company.phone),c.company.businessId&&l.a.createElement("p",null,"Y-tunnus: ".concat(c.company.businessId)),l.a.createElement(_,null))},C=function(e){var a=Object(s.e)();return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[a]),l.a.createElement(l.a.Fragment,null,e.children)},S=function(){var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],i=a[1],c=Object(n.useState)([]),m=Object(r.a)(c,2),u=m[0],d=m[1],E=Object(n.useState)([]),v=Object(r.a)(E,2),g=v[0],k=v[1],N=Object(n.useState)(""),_=Object(r.a)(N,2),w=_[0],S=_[1],L=Object(n.useState)(""),I=Object(r.a)(L,2),U=I[0],x=I[1],D=Object(n.useState)(!1),T=Object(r.a)(D,2),A=T[0],P=T[1];Object(n.useEffect)((function(){P(!0),o.a.get("".concat("/api","/events/?limit=2000")).then((function(e){i(e.data.data),P(!1)})).catch((function(e){x(e.toString())}))}),[w]),Object(n.useEffect)((function(){P(!0),o.a.get("".concat("/api","/places")).then((function(e){d(e.data.data),P(!1)}))}),[]),Object(n.useEffect)((function(){P(!0),o.a.get("".concat("/api","/activities")).then((function(e){k(e.data.rows),P(!1)}))}),[]);var R=t.filter((function(e){return e.description.body.toLowerCase().includes(w)})),H=u.filter((function(e){return e.name.fi.toLowerCase().includes(w)})),M=g.filter((function(e){return e.descriptions.fi?e.descriptions.fi.name.toLowerCase().includes(w):e.descriptions.en.name.toLowerCase().includes(w)}));return w?(R=t.filter((function(e){return e.description.body.toLowerCase().includes(w)})),H=u.filter((function(e){return e.name.fi.toLowerCase().includes(w)})),M=g.filter((function(e){return e.descriptions.fi?e.descriptions.fi.name.toLowerCase().includes(w):e.descriptions.en.name.toLowerCase().includes(w)}))):(R=[],H=[],M=[]),l.a.createElement("div",{className:"container"},l.a.createElement(C,null),l.a.createElement(f,{setFilter:S}),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"*",element:l.a.createElement(p,null)}),l.a.createElement(s.a,{exact:!0,path:"/events",element:l.a.createElement(h,{events:R,setFilter:S,convertId:function(e){if(e)return e.split(":")[1]},message:U,loading:A})}),l.a.createElement(s.a,{exact:!0,path:"/places",element:l.a.createElement(y,{places:H,setFilter:S,message:U,loading:A})}),l.a.createElement(s.a,{exact:!0,path:"/activities",element:l.a.createElement(b,{activities:M,setFilter:S,message:U,loading:A})}),R.map((function(e,a){return l.a.createElement(s.a,{key:a,exact:!0,path:"/events/:id",element:l.a.createElement(j,{event:e,setFilter:S})})})),H.map((function(e){return l.a.createElement(s.a,{key:e.id,exact:!0,path:"/places/:id",element:l.a.createElement(F,{place:e,setFilter:S})})})),M.map((function(e){return l.a.createElement(s.a,{key:e.id,exact:!0,path:"/activities/:id",element:l.a.createElement(O,{activity:e,setFilter:S})})}))))};c.a.render(l.a.createElement(u.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null))),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.f8d05e84.chunk.js.map